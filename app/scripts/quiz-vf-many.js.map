{"version":3,"sources":["quiz-vf-many.js"],"names":["events","on","exerciseID","navigate","currentScreenUid","point","$","hide","attr","openModal","loadObject","respondido","show","trigger","_modal","_feed","_vfArray","addClass","scorm","i","length","eq","status","parent","comp","this","find","removeClass","hasClass","each","indice","it","acertou","pointArray","_vfQuiz","push","saveObject","focusin","next"],"mappings":"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","file":"quiz-vf-many.js","sourcesContent":["events.on('ready', function () {\r\n  \r\n  var exerciseID = navigate.currentScreenUid;\r\n  $('.btn-next').hide();\r\n  $(\".feed\").hide();\r\n  $('.confirmar').hide();\r\n  $('.rever').hide();\r\n\r\n  var point = $('.quiz').attr('point');\r\n\r\n  $('.exercise-pickVF .alternativa').on('click', function(){\r\n\r\n    var status = 0;\r\n    if( $(this).hasClass('resposta-correta') )  status = 1;\r\n\r\n    $(this).parent().attr('ativoAlt', status );\r\n    $(this).parent().addClass('ativoAlt');\r\n    $(this).parent().find('.alternativa').removeClass('selecionado');\r\n    $(this).addClass('selecionado');\r\n\r\n    var comp = true;\r\n    $('.exercise-pickVF .list').each(function(indice, it){\r\n      if( !$(it).hasClass('ativoAlt') ){\r\n        comp = false;\r\n      }\r\n    })\r\n\r\n    if(comp){\r\n      $('.confirmar').show();\r\n    }\r\n  })\r\n\r\n  $('.confirmar').on('click',function() { \r\n        \r\n    $('.confirmar').hide();\r\n\r\n    var acertou = true;\r\n    $('.exercise-pickVF .list').each(function(indice, it){\r\n      if( $(it).attr('ativoAlt') == 0 ){\r\n        acertou = false;\r\n      }\r\n    })\r\n\r\n    var _vfQuiz = [];\r\n    $('.exercise-pickVF .alternativa').each(function(indice, it){\r\n      if( $(it).hasClass('selecionado') ){\r\n        _vfQuiz.push(indice);\r\n      }\r\n    })\r\n\r\n    scorm.saveObject( exerciseID+'-vf', _vfQuiz );\r\n\r\n    if(acertou){\r\n      openModal(\"feed-positivo\");\r\n      \r\n      var pointArray = [point];\r\n\t\t\tif( scorm.loadObject( 'point-quiz') ){\r\n\t\t\t\tpointArray = scorm.loadObject( 'point-quiz');\r\n\t\t\t\tpointArray.push(point);\r\n\t\t\t}\r\n\t\t\tscorm.saveObject( 'point-quiz', pointArray );\r\n\t\t\tscorm.saveObject( exerciseID+'-status', 1 );\r\n\t\t\t$('body').trigger('quiz-call');\r\n\r\n      $('.quiz').addClass('lock');\r\n      \r\n    }else{\r\n      \r\n      if (scorm.loadObject( exerciseID+'-tentativa' )) {\r\n        ///segunda tentativa\r\n        openModal(\"feed-negativo2\");\r\n        \r\n        var pointArray = [0];\r\n        if( scorm.loadObject( 'point-quiz') ){\r\n          pointArray = scorm.loadObject( 'point-quiz');\r\n          pointArray.push(0);\r\n        }\r\n\r\n        scorm.saveObject( 'point-quiz', pointArray );\r\n        scorm.saveObject( exerciseID+'-status', 0 );\r\n        $('body').trigger('quiz-call');\r\n\r\n        $('.quiz').addClass('lock');\r\n      } else {\r\n        ///primeira tentativa\r\n        openModal(\"feed-negativo1\");\r\n        scorm.saveObject( exerciseID+'-tentativa', true);\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  $('.rever').on('click',function() { \r\n      if( scorm.loadObject( exerciseID+'-status') == 1 ) {\r\n        openModal(\"feed-positivo\");\r\n      }else{\r\n        openModal(\"feed-negativo2\");\r\n      }\r\n  });\r\n\r\n  function openModal(_modal){\r\n    $(\".\"+_modal).show();\r\n    $('body').trigger('modal-open', [$(\".\"+_modal)]);\r\n\r\n    var _feed = exerciseID + \"_positivo\";\r\n\t\tif( _modal == 'feed-negativo1' )\r\n\t\t\t_feed = \"00_tentativa\";\r\n\t\telse if( _modal == 'feed-negativo2' )\r\n\t\t\t_feed = exerciseID + \"_negativo\";\r\n\t\t\r\n\t\t$('body').trigger('libras', [ _feed ]);\r\n    \r\n  }\r\n\r\n  $('.tenta-novamente').on('click',function () {\r\n    $(\".feed\").hide();\r\n    $('body').trigger('modal-close');\r\n    $('.alternativa').removeClass('selecionado');\r\n    $('.confirmar').hide();\r\n  });\r\n    \r\n  $('.feed .modal-close').focusin(function () {\r\n    $(\".feed\").hide();\r\n    $('body').trigger('modal-close');\r\n\r\n    if( scorm.loadObject( exerciseID+'-status') == 0 || scorm.loadObject( exerciseID+'-status') == 1 ) {\r\n\t\t\trespondido();\r\n\t\t\tnavigate.next();\r\n\t\t}\r\n\r\n  });\r\n\r\n  if( scorm.loadObject( exerciseID+'-status') == 0 || scorm.loadObject( exerciseID+'-status') == 1 ) {\r\n    respondido();\r\n  }\r\n\r\n\r\n  function respondido(){\r\n    $('.btn-next').show();\r\n    $('.confirmar').hide();\r\n    $('.quiz').addClass('lock');\r\n    $('.rever').show();\r\n\r\n    var _vfArray = scorm.loadObject( exerciseID+'-vf');\r\n    for( var i = 0; i < _vfArray.length; i++){\r\n        $('.exercise-pickVF .list .alternativa').eq(_vfArray[i]).addClass('selecionado');\r\n    }  \r\n  }\r\n\r\n});"]}