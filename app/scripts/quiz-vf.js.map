{"version":3,"sources":["quiz-vf.js"],"names":["events","on","exerciseID","navigate","currentScreenUid","point","$","hide","attr","tentativa","openModal","show","_modal","trigger","addClass","_vfArray","loadObject","_feed","console","alt","respondido","scorm","i","length","log","eq","find","each","this","status","parent","comp","removeClass","indice","hasClass","it","acertou","tentativaFinal","_vfQuiz","push","saveObject","pointArray","focusin","next"],"mappings":"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","file":"quiz-vf.js","sourcesContent":["events.on('ready', function () {\r\n  \r\n  var exerciseID = navigate.currentScreenUid;\r\n  $('.btn-next').hide();\r\n  $(\".feed\").hide();\r\n  $('.confirmar').hide();\r\n  $('.rever').hide();\r\n\r\n  var point = $('.quiz').attr('point');\r\n  var tentativa = $('.quiz').attr('tentativa');\r\n\r\n  $('.exercise-pickVF .alternativa').on('click', function(){\r\n\r\n    var status = 0;\r\n    if( $(this).hasClass('resposta-correta') )  status = 1;\r\n\r\n    $(this).parent().attr('ativoAlt', status );\r\n    $(this).parent().addClass('ativoAlt');\r\n    $(this).parent().find('.alternativa').removeClass('selecionado');\r\n    $(this).addClass('selecionado');\r\n\r\n    var comp = true;\r\n    $('.exercise-pickVF .sentenca').each(function(indice, it){\r\n      if( !$(it).hasClass('ativoAlt') ){\r\n        comp = false;\r\n      }\r\n    })\r\n\r\n    if(comp){\r\n      $('.confirmar').show();\r\n    }\r\n  })\r\n\r\n  $('.confirmar').on('click',function() { \r\n\t\t\r\n    $('.confirmar').hide();\r\n\r\n    var acertou = true;\r\n    $('.exercise-pickVF .sentenca').each(function(indice, it){\r\n      if( $(it).attr('ativoAlt') == 0 ){\r\n        acertou = false;\r\n      }\r\n    })\r\n\r\n    var _vfQuiz = [];\r\n    $('.exercise-pickVF .alternativa').each(function(indice, it){\r\n      if( $(it).hasClass('selecionado') ){\r\n        var status = $(it).attr('status');\r\n        _vfQuiz.push(status);\r\n      }\r\n    })\r\n\r\n    scorm.saveObject( exerciseID+'-vf', _vfQuiz );\r\n\r\n    if(acertou){\r\n      openModal(\"feed-positivo\");\r\n\r\n      var pointArray = [point];\r\n\t\t\tif( scorm.loadObject( 'point-quiz') ){\r\n\t\t\t\tpointArray = scorm.loadObject( 'point-quiz');\r\n\t\t\t\tpointArray.push(point);\r\n\t\t\t}\r\n\t\t\tscorm.saveObject( 'point-quiz', pointArray );\r\n\t\t\tscorm.saveObject( exerciseID+'-status', 1 );\r\n\t\t\t$('body').trigger('quiz-call');\r\n\r\n      $('.quiz').addClass('lock');\r\n      \r\n    }else{\r\n\r\n      if(tentativa == 0 ) {\r\n        ///segunda tentativa\r\n        tentativaFinal();\r\n        scorm.saveObject( exerciseID+'-tentativa', true);\r\n      }else{\r\n        \r\n        if (scorm.loadObject( exerciseID+'-tentativa' )) {\r\n          ///segunda tentativa\r\n          tentativaFinal();\r\n          \r\n        } else {\r\n          ///primeira tentativa\r\n          openModal(\"feed-negativo1\");\r\n          scorm.saveObject( exerciseID+'-tentativa', true);\r\n        }\r\n\r\n      }\r\n      \r\n      function tentativaFinal(){\r\n          openModal(\"feed-negativo2\");\r\n    \r\n          var pointArray = [0];\r\n          if( scorm.loadObject( 'point-quiz') ){\r\n            pointArray = scorm.loadObject( 'point-quiz');\r\n            pointArray.push(0);\r\n          }\r\n  \r\n          scorm.saveObject( 'point-quiz', pointArray );\r\n          scorm.saveObject( exerciseID+'-status', 0 );\r\n          $('body').trigger('quiz-call');\r\n  \r\n          $('.quiz').addClass('lock');\r\n      }\r\n      \r\n    }\r\n\t});\r\n\r\n  $('.rever').on('click',function() { \r\n\t\tif( scorm.loadObject( exerciseID+'-status') == 1 ) {\r\n      openModal(\"feed-positivo\");\r\n    }else{\r\n      openModal(\"feed-negativo2\");\r\n    }\r\n\t});\r\n\r\n  function openModal(_modal){\r\n    $(\".\"+_modal).show();\r\n    $('body').trigger('modal-open', [$(\".\"+_modal)]);\r\n\r\n    var _feed = exerciseID + \"_positivo\";\r\n\t\tif( _modal == 'feed-negativo1' )\r\n\t\t\t_feed = \"00_tentativa\";\r\n\t\telse if( _modal == 'feed-negativo2' )\r\n\t\t\t_feed = exerciseID + \"_negativo\";\r\n\t\t\r\n\t\t$('body').trigger('libras', [ _feed ]);\r\n    \r\n  }\r\n\r\n\t$('.tenta-novamente').on('click',function () {\r\n    $(\".feed\").hide();\r\n    $('body').trigger('modal-close');\r\n\t\t$('.alternativa').removeClass('selecionado');\r\n\t\t$('.confirmar').hide();\r\n\t});\r\n\t\r\n\t$('.feed .modal-close').focusin(function () {\r\n    $(\".feed\").hide();\r\n    $('body').trigger('modal-close');\r\n    \r\n    if( scorm.loadObject( exerciseID+'-status') == 0 || scorm.loadObject( exerciseID+'-status') == 1 ) {\r\n\t\t\trespondido();\r\n\t\t\tnavigate.next();\r\n\t\t}\r\n\r\n\t});\r\n\r\n\tif( scorm.loadObject( exerciseID+'-status') == 0 || scorm.loadObject( exerciseID+'-status') == 1 ) {\r\n    respondido();\r\n\t}\r\n\r\n\r\n  function respondido(){\r\n    $('.btn-next').show();\r\n\t\t$('.confirmar').hide();\r\n\t\t$('.quiz').addClass('lock');\r\n    $('.rever').show();\r\n\r\n    var _vfArray = scorm.loadObject( exerciseID+'-vf');\r\n    for(var i = 0; i < _vfArray.length; i++ ){\r\n      console.log(i)\r\n      var alt = $('.exercise-pickVF .sentenca').eq(i).find('.alternativa');\r\n\r\n      $(alt).each(function(){\r\n\r\n        if( $(this).attr('status') == _vfArray[i] ){\r\n          $(this).addClass('selecionado');\r\n        }\r\n\r\n      })\r\n\r\n    }\r\n\r\n  }\r\n\r\n});"]}