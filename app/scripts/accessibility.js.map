{"version":3,"sources":["accessibility.js"],"names":["createAriaPageInit","nav_current","navigate","currentScreen","index","nav_all","percentagePages","pages","length","percentage","scorm","loadObject","addAlert","hiddenPointerEventsFromReader","$","each","this","css","hiddenElementesFromReader","ignoreId","controlAcessibilityModal","modal","attr","element","$botao","hasClass","i","closeModal","console","log","openModal","window","focusin","keyup","evt","trigger","_elemTabModal","_modalCurrent","item","ind","document","activeElement","tabIndex","find","indice","tabCurrent","last","parseInt","st","focus","keyToTabActive","onePageTabIndexFix","removeOldAlert","newAlert","createElement","setAttribute","appendChild","body","setTimeout","oldAlert","removeChild","focusPrev","selectPrevTabbableOrFocusable","tabNext","aMsg","selectNextTabbableOrFocusable","selectables","selector","msg","current","nextIndex","currentIndex","prevIndex","ready","events","on","fixTabIndexInComponents","controlNavWereTab","get","pause","_this","isTabIndexNaN","eq","nodeName","toLowerCase","isTabIndexNotNaN","isNaN","map","href","mapName","focusable","img","parentNode","name","visible","test","disabled","expr","filters","parents","addBack","filter","focusNext","createPseudo","tabPrev","extend","data","dataName","elem","jQuery","match","tabbable"],"mappings":"AAkBA,SAASA,qBACR,IAGAC,EAAAC,SAAAC,cAAAC,MAAA,EACAC,EAAIC,SAAkBH,cAAII,MAAAC,OACtBC,EAISC,MAAAC,WAAA,MAAA,EAAAD,MAAAC,WAAA,MAAA,EAAA,IADQ,KAGR,EAJTN,GAMJO,SADE,GAAAX,EACF,iKAGwCQ,YAHxC,CACD,CAEA,SAKEI,gCAJDC,EAKC,GAAC,EAAAC,KAAA,WACH,QAAAD,EAAAE,IAAA,EAAAC,IAAA,gBAAA,IAGAH,EAAAE,IAASE,EAAAA,KAAAA,cAAAA,MAA0BC,EACjCL,EAACE,IAAKD,EAAAA,KAAK,WAAW,IAAA,EALvB,CAAC,CACF,CAUA,SAAAG,0BAAAC,GAEAL,EAAA,GAAA,EAAAC,KAASK,WAEDC,EAAAA,IAAK,GAAMP,EAAAK,CAAA,IACbL,EAAAE,IAAA,EAAAM,KAAc,cAAO,MAAaC,EAChCT,EAAAE,IAAIQ,EAAAA,KAAU,WAAS,IAAA,EAP9B,CAAC,CACF,CAEA,SASUJ,2BAIFN,EAAA,cAAYW,EAAAA,KAAS,SAAAC,EAAcH,GACzBT,EAACS,CAAA,EACPI,GAAY,QAAA,WAChBC,QAAAC,IAAA,eAAAf,EAAAE,IAAA,EAAAM,KAAA,YAAA,CAAA,EARIQ,UASNhB,EAAAA,EAAAE,IAAA,EAAAM,KAAA,YAAA,CAAA,CATqB,CAWzB,CAAA,CACES,CAAAA,EAEAjB,EAAA,GAAA,EAAAkB,QAAA,WACJlB,EAAAE,IAAA,EAAAS,SAAA,aAAA,IAEEX,EAAA,QAAW,EAAAG,IAAA,UAAe,MAAA,EAC3BU,WAAA,EAEA,CAAA,EAKAb,EAAAiB,MAAA,EAAAE,MAAA,SAAAC,GACApB,EAAA,MAAA,EAAAqB,QAAA,oBAAA,CACA,CAAA,CAZD,CA0BA,SAoBKC,UAAaC,GAlBjBvB,EAAE,MAoBIsB,EAAAA,QAAAA,aAAsBE,EAnB5B1B,SAoBMwB,4BAA4B,EAlBlC,IAAIA,EAoBA,CAnBFG,IAoBA,SACDD,KAAC,KAEFD,KAAAA,EACAA,GAAAA,CAAAA,CApBA,EAGAvB,EAyBC,MAAC,EAAOQ,KAACa,gBAAqBK,SAACC,cAAAC,QAAA,EAvBhCL,EAyBAM,KAAA,cAAA,EAAArB,KAAA,WAAA,CAAA,CAAA,EAxBAe,EAyBAM,KAAA,GAAA,EAAA5B,KAAA,SAAA6B,EAAAN,GACkB,CAAA,EAAdO,SAAU/B,EAAAwB,CAAI,EAAAhB,KAAA,UAAA,CAAA,IAIlBc,EAAAU,KAAAC,SAAAjC,EAAAwB,CAAA,EAAAhB,KAAA,UAAA,CAAA,EAAA,EACA,GAAAc,EAAAY,MACAZ,EAAAG,IAAAzB,EAAAwB,CAAA,EAAAhB,KAAA,UAAA,EAzBMc,EAAcE,KAAOxB,EAAEwB,CAAI,EA2BjCF,EAAAY,GAAA,CAAA,EAvBA,CAAC,EAEDX,EA0BIM,KAAA,cAAA,EAAArB,KAAA,WAAAc,EAAAU,IAAA,EAzBJT,EA0BIM,KAAA,cAAA,EAAArB,KAAA,aAAA,eAAA,EAILc,EAAAE,KAAAW,MAAA,CA1BA,CAEA,SA6BKtB,aA3BJb,EAAE,MA6BA,EAAAqB,QAAA,aAAA,EA5BFvB,SA8BMsB,6BAA4B,EA1BlCM,SA8BEC,cAAAC,SADSQ,EArBTpC,EA+BA,GAAC,EAAIC,KAAEO,WAVE4B,GAWTH,SAAAjC,EAAAE,IAAA,EAAAM,KAAA,UAAA,CAAA,GAGHR,EAASqC,IAAAA,EAAAA,MAAAA,CA9BN,CAgCA,CA5BH,CAmCA,SAASvC,oBAhCRE,EAiCAsC,MAAAA,EAAAA,MAAe,SAAClB,GACDM,IAAXa,EAAAA,OAAiC,IAAbC,EAAAA,OAExBD,EAAAA,QAASE,EAGKC,IAAdhB,EAASiB,OAA0B,IAArBD,EAAYH,QAG1BK,EAAAA,QAAW,EACTN,OAAAA,eAAgB,CAAA,EAEnB,CAAA,CAEA,CAjCA,SAmCKO,0BAlCJ7C,EAAE,QAmCA0B,EAASiB,KAAKG,GAAAA,EAAAA,KAAAA,WAChB9C,EAAAE,IAAA,EAAAM,KAAA,WAAA,IAAA,CACD,CAAA,EAGCR,EAAA,GAAA,EAAA6B,KAAU,GAAC,EAAA5B,KAAA,WACXD,EAAAE,IAAA,EAAAM,KAAY,WAAA,IAAA,CApCZ,CAAC,CACF,CAEA,SAoCE6B,qBAnCDrC,EAoCC,GAAC+C,EAAAA,KAAS,WAEV,GADAC,SAAAA,EAAAA,IAAAA,EAA8BxC,KAAA,UAAa,CAAA,GAC3CR,EAAAE,IAAA,EAAAS,SAAA,aAAA,GACCsC,EAAAA,IAAO,EAAAd,MAAG,CAlCZ,CAoCA,CAnCD,CAEA,SAoCErC,SAAAoD,GAnCDZ,eAqCSa,EApCT,IAqCCZ,EAAIa,SAAgBC,cAAS,KAAA,EAG7BC,GAvCDf,EAqCKgB,aAAY,OAAS,OAAA,EApC1BhB,EAqCKiB,aAAa,KAAA,OAAA,EACdD,SAAQ7D,eAAawD,CAAA,GApCzBX,EAqCMkB,YAAYH,CAAGF,EApCrB1B,SAqCK+B,KAAAA,YAAgBlB,CAAGa,EApCxBpD,EAAE,QAqCCwD,EAAAA,IAAS,UAAGC,GAAAA,EAnCfb,WAqCC,WApCCN,eAsCa,CArCf,EAsCA,GAAA,CArCD,CAEA,SAuCMiB,iBAtCL,IAuCCV,EAAIa,SAAYN,eAAkB,OAAI,EACtCP,GAtCCnB,SAuCI+B,KAAAA,YAAeL,CAAY9D,CArClC,CA1NAU,EAAE0B,QAAQ,EAAEiC,MAAM,WACjB7D,SAAS,sBAAsB,CADhCE,CAAC,EAED4D,OAAEC,GAAA,QAAA,WAIDjB,WAAU,WAER1D,mBACkB,EAAlBmD,mBACAyB,EAAAA,wBACAxD,EAAAA,yBACmB,EAAnByD,kBACAhE,EAEDA,8BAAW,CAGb,EAAA,GAASb,CAFT,CAAC,EA+DDc,EAaC,MAAE,EAAA6D,GAAA,cAAA,YAKF,EAID7D,EAAE,MAAA,EAAA6D,GAAA,cAAA,WAXD7D,EAkBA,OAAIsB,EAAAA,KAAAA,WAjBFtB,EAkBAyB,IAAK,EAAAuC,IAAA,CAAA,EAAQC,MAAA,CAjBf,CAAC,CACF,CAAC,EAEDjE,EAkBC,MAAC,EAAA6D,GAAA,aAAA,SAAAK,EAAA3D,GAjBDS,UAAUT,CAAK,CAChB,CAAC,EAEDP,EAmBCuB,MAAAA,EAAAA,GAAAA,cAAmB,SAAgBf,EAAKD,GAlBxCM,WAmBAU,CAlBD,CAAC,EAwHD,SAwCE6B,GAzBD,SA4CGe,EAA+Bd,GA3CjC,IA4CCD,EAASe,EAAAA,CAAa,EACvBZ,EAAAvD,EAAA,QAAA,EACCwD,EAAA,EA3CqB,IAAnBD,EAAQ7D,SA6CZ+D,EAAAL,EAAA9D,MAAAiE,CAAA,GACD,EAAAH,EAAA1D,SACA8D,EAAAC,EAAA,GAxCEL,EA4COgB,GAAAZ,CAAA,EAAArB,MAAA,CA3CR,CAEA,SA0CEkC,EAA4BC,GAzC7B,IA0CCC,EAAAA,EAAgBlB,CAAImB,EACrBjB,EAASvD,EAAA,QAAKqE,EACbI,EAAMhE,EAAkBf,OAAA,EACN,IA1ChB6D,EA0CK7D,QAEM,GADb+D,EAAYiB,EAASC,MAAWF,CAAIJ,KAxCnCX,EA0CDD,EAAA,GAtCDL,EA0CSgB,GAAAV,CAAA,EAAAvB,MAAA,CAzCV,CA4BA,SAASyC,EAAUnE,GAClB,IAAIgE,EAAKE,EAASE,EACjBR,EAAW5D,EAAQ4D,SAASC,YAAY,EACxCC,EAAmB,CAACC,MAAMxE,EAAEQ,KAAKC,EAAS,UAAU,CAAC,EACtD,MAAG,SAAW4D,GAEbM,GADAF,EAAMhE,EAAQqE,YACAC,KACd,EAAItE,CAAAA,EAAQiE,MAASC,CAAAA,GAA0C,QAA/BF,EAAIJ,SAASC,YAAY,GAIjD,EADRO,EAAM7E,EAAE,eAAiB2E,EAAU,GAAG,EAAE,MACxBK,EAAQH,CAAG,IAEnB,0CAA0CI,KAAKZ,CAAQ,EAC/D,CAAC5D,EAAQyE,SACT,MAAQb,GACP5D,EAAQiE,MACRH,IACDS,EAAQvE,CAAO,EAEhB,SAASuE,EAAQvE,GAChB,OAAOT,EAAEmF,KAAKC,QAAQJ,QAAQvE,CAAO,GAAK,CAACT,EAAES,CAAO,EAAE4E,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,WAChF,MAAqC,WAA9BvF,EAAEG,IAAID,KAAM,YAAY,CAChC,CAAC,EAAER,MACJ,CACD,CA5FAM,EAwCCwF,UAAUL,WAvCVhC,EAyCCnD,YAAOyF,CAxCT,EACAzF,EAAE+C,UAyCS,WAxCVC,EAyCG,YAAA,CAxCJ,EACAhD,EAAEiD,QA0CQ,WAzCTE,EA0CE,WAAA,CAzCH,EACAnD,EAAE0F,QA2COd,WA1CR5B,EA2CC,WAAA,CA1CF,EA6BAhD,EAAE2F,OAgDA3F,EAAAmF,KAASA,KAAKC,CA/CfQ,KAgDE5F,EAAAmF,KAAOnF,aA/CRA,EAAEmF,KAgDCzF,aAAM,SAAAmG,GACV,OAAA,SAAAC,GACD,MAAA,CAAA,CAAA9F,EAAA4F,KAAAE,EAAAD,CAAA,CACEE,CA/CA,CAAC,EACD,SAASD,EAAMlF,EAAGoF,GACjB,MAAO,CAAC,CAAChG,EAAE4F,KAAKE,EAAME,EAAO,EAAG,CACjC,EAEDpB,UAAW,SAASnE,GACnB,OAAOmE,EAAUnE,EAAU+D,MAAMxE,EAAEQ,KAAKC,EAAS,UAAU,CAAC,CAAC,CAC9D,EAEAwF,SAAU,SAASxF,GAClB,IAAImB,EAAW5B,EAAEQ,KAAKC,EAAS,UAAU,EACxC0D,EAAgBK,MAAM5C,CAAQ,EAC/B,OAASuC,GAA6B,GAAZvC,IAAmBgD,EAAUnE,CAAuB,CAC/E,CACD,CAAC,CAiCD,EAAEsF,MAAM","file":"accessibility.js","sourcesContent":["$(document).ready(function() {\r\n\taddAlert(\"Aguarde, carregando!\");\r\n});\r\n\r\nevents.on('ready', function() {\r\n\t\r\n\tsetTimeout(function() {\r\n\r\n\t\t\tcreateAriaPageInit();\r\n\t\t\tonePageTabIndexFix();\r\n\t\t\tfixTabIndexInComponents();\r\n\t\t\tcontrolAcessibilityModal();\r\n\t\t\tcontrolNavWereTab();\r\n\t\t\thiddenPointerEventsFromReader();\r\n\r\n\t}, 1000 * 1);\r\n});\r\n\r\nfunction createAriaPageInit() {\r\n\tvar nav_current = navigate.currentScreen.index + 1;\r\n\tvar nav_all = navigate.currentScreen.pages.length;\r\n\r\n\t// var percentagePages = `${Math.round((100 * nav_current) / nav_all)}%`;\r\n\tvar percentagePages = \"1%\";\r\n\tvar percentage = scorm.loadObject( 'porc' ) ? scorm.loadObject( 'porc' ) + \"%\" : percentagePages;\r\n\r\n\tif (nav_all > 1) {\r\n\t\t\tif (nav_current == 1) {\r\n\t\t\t\t\taddAlert(`Carregamento finalizado! Você está na tela de abertura do jogo. Para navegar no treinamento utilize o TAB e o ENTER.`);\r\n\t\t\t} else {\r\n\t\t\t\t\taddAlert(`Carregamento finalizado! Você realizou ${percentage} do jogo.`);\r\n\t\t\t}\r\n\t}\r\n}\r\n\r\nfunction hiddenPointerEventsFromReader() {\r\n\t$(\"*\").each(function() {\r\n\t\tif($(this).css('pointer-events') == \"none\"){\r\n\t\t\t$(this).attr(\"aria-hidden\", \"true\");\r\n\t\t\t$(this).attr(\"tabindex\", \"-1\");\r\n\t\t}\r\n\t});\r\n}\r\n\r\n\r\nfunction hiddenElementesFromReader(ignoreId) {\r\n\t$(\"*\").each(function() {\r\n\t\t\tif ($(this) != $(ignoreId)) {\r\n\t\t\t\t\t$(this).attr(\"aria-hidden\", \"true\");\r\n\t\t\t\t\t$(this).attr(\"tabindex\", \"-1\");\r\n\t\t\t}\r\n\t});\r\n}\r\n\r\nfunction controlAcessibilityModal() {\r\n\t\r\n    var modal= null;\r\n    $(\"[data-modal]\").each(function (i, element){\r\n        var $botao = $(element);\r\n        $botao.on('click', function () {\r\n            console.log(\"open modal: \" + $(this).attr('data-modal') );\r\n            modal = $( $(this).attr('data-modal') );\r\n            openModal(modal);\r\n        });\r\n    });\r\n\r\n    $(\"*\").focusin(function () {\r\n        if ($(this).hasClass(\"modal-close\")) {\r\n\t\t\t$('.modal').css('display', 'none');\r\n            closeModal();\r\n        }\r\n    });\r\n\r\n\t\t/// liberar o close para Acessibildade com qualquer evento do teclado.\r\n\t\t$(window).keyup(function(evt) {\r\n\t\t\t$('body').trigger('alertAccessibility');\r\n\t\t})\r\n}\r\n\r\n$('body').on('hide-header', function(){\r\n\t// $('.header .control-01').css('display', 'none');\r\n\t// $('.header .control-02').css('display', 'none');\r\n\t// $('.btnHelp').css('display', 'none');\r\n})\r\n\r\n\r\n$('body').on('show-header', function(){\r\n\t// $('.header .control-01').css('display', 'flex');\r\n\t// $('.header .control-02').css('display', 'flex');\r\n\t// $('.btnHelp').css('display', 'flex');\r\n\t$(\"video\").each(function(){\r\n\t\t\t$(this).get(0).pause();\r\n\t});\r\n})\r\n\r\n$('body').on('modal-open', function(_this, modal){\r\n\topenModal(modal);\r\n})\r\n\r\n$('body').on('modal-close', function(_this, modal){\r\n\tcloseModal();\r\n})\r\n\r\nfunction openModal(_modalCurrent) {\r\n\r\n\t$('body').trigger('hide-header');\r\n\taddAlert(\"Janela de conteúdo aberta.\");\r\n\r\n\tvar _elemTabModal = {\r\n\t\t\tind: 99999999,\r\n\t\t\titem: null,\r\n\t\t\tlast: 0,\r\n\t\t\tst: false\r\n\t};\r\n\r\n\t//grava o ultimo tabindex antes de entrar no modal\r\n\t$('body').attr('tabIndexModal', document.activeElement.tabIndex);\r\n\r\n\t_modalCurrent.find('.modal-close').attr(\"tabindex\", -1);\r\n\t_modalCurrent.find(\"*\").each(function(indice, item) {\r\n\t\t\tif (parseInt($(item).attr('tabindex')) > -1) {\r\n\r\n\t\t\t\t\t///grava o maior dos tab index dentro do modal para referenciar o btn de Fechar\r\n\t\t\t\t\t_elemTabModal.last = parseInt($(item).attr('tabindex')) + 1;\r\n\t\t\t\t\tif (_elemTabModal.st == false ) {\r\n\t\t\t\t\t\t\t_elemTabModal.ind = $(item).attr('tabindex');\r\n\t\t\t\t\t\t\t_elemTabModal.item = $(item);\r\n\t\t\t\t\t\t\t_elemTabModal.st = true; \r\n\t\t\t\t\t}\r\n\t\t\t}\r\n\t});\r\n\r\n\t_modalCurrent.find('.modal-close').attr(\"tabindex\", _elemTabModal.last);\r\n\t_modalCurrent.find('.modal-close').attr(\"aria-label\", \"Fechar modal.\");\r\n\r\n\t_elemTabModal.item.focus();\r\n\r\n}\r\n\r\nfunction closeModal() {\r\n\r\n\t$('body').trigger('show-header');\r\n\taddAlert(\"Janela de conteúdo fechada.\");\r\n\t// recupera o ultimo tabindex antes de entrar no modal\r\n\t// var tabCurrent = parseInt($('body').attr('tabIndexModal'));\r\n\tvar tabCurrent = 1;\r\n\tdocument.activeElement.tabIndex = tabCurrent;\r\n\r\n\r\n\t// setTimeout(function() {\r\n\t// \t$('body').focus();\r\n\t// }, 1000);\r\n\t\r\n\t// if (window.keyToTabActive) {\r\n\t\t\t$(\"*\").each(function() {\r\n\t\t\t\t\tvar tabItem = parseInt($(this).attr('tabindex'));\r\n\t\t\t\t\tif (tabCurrent == tabItem) {\r\n\t\t\t\t\t\t\t$(this).focus();\r\n\t\t\t\t\t}\r\n\t\t\t});\r\n\t// }\r\n\r\n\r\n}\r\n\r\nfunction controlNavWereTab() {\r\n\t$(window).keyup(function(evt) {\r\n\t\t\tif (evt.which == 37 || evt.which == 38) {\r\n\t\t\t\t\t//PREV\r\n\t\t\t\t\t$.tabPrev();\r\n\t\t\t}\r\n\r\n\t\t\tif (evt.which == 39 || evt.which == 40) {\r\n\t\t\t\t\t//NEXT\r\n\t\t\t\t\t$.tabNext();\r\n\t\t\t\t\twindow.keyToTabActive = true;\r\n\t\t\t}\r\n\t});\r\n}\r\n\r\nfunction fixTabIndexInComponents() {\r\n\t$('button').find(\"*\").each(function() {\r\n\t\t\t$(this).attr(\"tabindex\", '-1');\r\n\t});\r\n\t$('a').find(\"*\").each(function() {\r\n\t\t$(this).attr(\"tabindex\", '-1');\r\n\t});\r\n}\r\n\r\nfunction onePageTabIndexFix() {\r\n\t$(\"*\").each(function() {\r\n\t\t\tvar tabItem = parseInt($(this).attr('tabindex'));\r\n\t\t\tif ( tabItem == 1 && !$(this).hasClass('modal-close')) {\r\n\t\t\t\t\t$(this).focus();\r\n\t\t\t}\r\n\t});\r\n}\r\n\r\nfunction addAlert(aMsg) {\r\n\tremoveOldAlert();\r\n\tvar newAlert = document.createElement(\"div\");\r\n\tnewAlert.setAttribute(\"role\", \"alert\");\r\n\tnewAlert.setAttribute(\"id\", \"alert\");\r\n\tvar msg = document.createTextNode(aMsg);\r\n\tnewAlert.appendChild(msg);\r\n\tdocument.body.appendChild(newAlert);\r\n\t$(\"#alert\").css(\"opacity\", \"0\");\r\n\r\n\tsetTimeout(function() {\r\n\t\t\tremoveOldAlert();\r\n\t}, 4000);\r\n}\r\n\r\nfunction removeOldAlert() {\r\n\tvar oldAlert = document.getElementById(\"alert\");\r\n\tif (oldAlert) {\r\n\t\t\tdocument.body.removeChild(oldAlert);\r\n\t}\r\n}\r\n\r\n\r\n(function($){\r\n\t'use strict';\r\n\t$.focusNext = function(){\r\n\t\tselectNextTabbableOrFocusable(':focusable');\r\n\t};\r\n\t$.focusPrev = function(){\r\n\t\tselectPrevTabbableOrFocusable(':focusable');\r\n\t};\r\n\t$.tabNext = function(){\r\n\t\tselectNextTabbableOrFocusable(':tabbable');\r\n\t};\r\n\t$.tabPrev = function(){\r\n\t\tselectPrevTabbableOrFocusable(':tabbable');\r\n\t};\r\n\r\n\tfunction selectNextTabbableOrFocusable(selector){\r\n\t\tvar selectables = $(selector);\r\n\t\tvar current = $(':focus');\r\n\t\tvar nextIndex = 0;\r\n\t\tif(current.length === 1){\r\n\t\t\tvar currentIndex = selectables.index(current);\r\n\t\t\tif(currentIndex + 1 < selectables.length){\r\n\t\t\t\tnextIndex = currentIndex + 1;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tselectables.eq(nextIndex).focus();\r\n\t}\r\n\r\n\tfunction selectPrevTabbableOrFocusable(selector){\r\n\t\tvar selectables = $(selector);\r\n\t\tvar current = $(':focus');\r\n\t\tvar prevIndex = selectables.length - 1;\r\n\t\tif(current.length === 1){\r\n\t\t\tvar currentIndex = selectables.index(current);\r\n\t\t\tif(currentIndex > 0){\r\n\t\t\t\tprevIndex = currentIndex - 1;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tselectables.eq(prevIndex).focus();\r\n\t}\r\n\t$.extend($.expr[ ':' ], {\r\n\t\tdata: $.expr.createPseudo ?\r\n\t\t\t$.expr.createPseudo(function(dataName){\r\n\t\t\t\treturn function(elem){\r\n\t\t\t\t\treturn !!$.data(elem, dataName);\r\n\t\t\t\t};\r\n\t\t\t}) :\r\n\t\t\tfunction(elem, i, match){\r\n\t\t\t\treturn !!$.data(elem, match[ 3 ]);\r\n\t\t\t},\r\n\r\n\t\tfocusable: function(element){\r\n\t\t\treturn focusable(element, !isNaN($.attr(element, 'tabindex')));\r\n\t\t},\r\n\r\n\t\ttabbable: function(element){\r\n\t\t\tvar tabIndex = $.attr(element, 'tabindex'),\r\n\t\t\t\tisTabIndexNaN = isNaN(tabIndex);\r\n\t\t\treturn ( isTabIndexNaN || tabIndex >= 0 ) && focusable(element, !isTabIndexNaN);\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t * focussable function, taken from jQuery UI Core\r\n\t * @param element\r\n\t * @returns {*}\r\n\t */\r\n\tfunction focusable(element){\r\n\t\tvar map, mapName, img,\r\n\t\t\tnodeName = element.nodeName.toLowerCase(),\r\n\t\t\tisTabIndexNotNaN = !isNaN($.attr(element, 'tabindex'));\r\n\t\tif('area' === nodeName){\r\n\t\t\tmap = element.parentNode;\r\n\t\t\tmapName = map.name;\r\n\t\t\tif(!element.href || !mapName || map.nodeName.toLowerCase() !== 'map'){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\timg = $('img[usemap=#' + mapName + ']')[0];\r\n\t\t\treturn !!img && visible(img);\r\n\t\t}\r\n\t\treturn ( /^(input|select|textarea|button|object)$/.test(nodeName) ?\r\n\t\t\t!element.disabled :\r\n\t\t\t'a' === nodeName ?\r\n\t\t\t\telement.href || isTabIndexNotNaN :\r\n\t\t\t\tisTabIndexNotNaN) &&\r\n\t\t\tvisible(element);\r\n\r\n\t\tfunction visible(element){\r\n\t\t\treturn $.expr.filters.visible(element) && !$(element).parents().addBack().filter(function(){\r\n\t\t\t\treturn $.css(this, 'visibility') === 'hidden';\r\n\t\t\t}).length;\r\n\t\t}\r\n\t}\r\n})(jQuery);\r\n"]}